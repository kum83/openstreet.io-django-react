{"version":3,"sources":["views/apps/user/edit/Account.js","views/apps/user/edit/Edit.js"],"names":["UserAccountTab","state","email","first_name","last_name","username","password","fetchUser","axios","get","props","token","then","res","setState","data","console","log","handleUpdate","e","preventDefault","put","logout","this","newProps","Row","Col","sm","Media","className","left","href","object","src","userImg","alt","height","width","body","tag","heading","Form","onSubmit","md","FormGroup","Label","for","Input","type","disabled","value","id","placeholder","onChange","target","required","Button","Ripple","color","React","Component","connect","auth","dispatch","action","UserEdit","activeTab","toggle","tab","Card","CardBody","Nav","tabs","NavItem","NavLink","classnames","active","onClick","size","TabContent","TabPane","tabId","Account","to"],"mappings":"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","file":"static/js/25.ccf5f791.chunk.js","sourcesContent":["import React from \"react\"\nimport {\n  Media,\n  Row,\n  Col,\n  Button,\n  Form,\n  Input,\n  Label,\n  FormGroup\n} from \"reactstrap\"\nimport userImg from \"../../../../assets/img/portrait/small/admin-user-icon-24.jpg\"\nimport axios from \"axios\"\nimport {connect} from \"react-redux\"\nimport { actions } from \"react-table\"\nimport * as action from \"../../../../redux/actions/auth/loginActions\"\nclass UserAccountTab extends React.Component {\n  state = {\n    email: \"\",\n    first_name: \"\",\n    last_name: \"\",\n    username: \"\",\n    password: \"\"\n  }\n  fetchUser = () => {\n    axios.get(`https://openstreet.io/api/user/?token=${this.props.token}`)\n      .then(res => {\n        this.setState(res.data)\n        console.log(this.state)\n      });\n  }\n  componentDidMount() {\n    this.fetchUser();\n  }\n\n  componentWillReceiveProps(newProps) {\n    if (newProps.token) {\n      this.fetchUser();\n    }\n  }\n  handleUpdate = e => {\n    e.preventDefault();\n    axios.put(`https://openstreet.io/api/user/?token=${this.props.token}`, {\n      email: this.state.email,\n      first_name: this.state.first_name,\n      last_name: this.state.last_name,\n      username: this.state.username,\n      password: this.state.password\n    })\n    .then(res => {\n      this.props.logout();\n      console.log(this.props.token)\n    })\n  }\n  render() {\n    return (\n      <Row>\n        <Col sm=\"12\">\n          <Media className=\"mb-2\">\n            <Media className=\"mr-2 my-25\" left href=\"#\">\n              <Media\n                className=\"users-avatar-shadow rounded\"\n                object\n                src={userImg}\n                alt=\"user profile image\"\n                height=\"84\"\n                width=\"84\"\n              />\n            </Media>\n            <Media className=\"mt-2\" body>\n              <Media className=\"font-medium-1 text-bold-600\" tag=\"p\" heading>\n                {this.state.first_name} {this.state.last_name}\n              </Media>\n            </Media>\n          </Media>\n        </Col>\n        <Col sm=\"12\">\n          <Form onSubmit={this.handleUpdate}>\n            <Row>\n              <Col md=\"6\" sm=\"12\">\n                <FormGroup>\n                  <Label for=\"token\">Token</Label>\n                  <Input\n                    type=\"text\"\n                    disabled\n                    value={this.props.token}\n                    id=\"token\"\n                  />\n                </FormGroup>\n              </Col>\n              <Col md=\"6\" sm=\"12\">\n                <FormGroup>\n                  <Label for=\"email\">Email</Label>\n                  <Input\n                    type=\"text\"\n                    value={this.state.email}\n                    id=\"email\"\n                    placeholder=\"Username\"\n                    onChange={e=> this.setState({email: e.target.value})}\n                  />\n                </FormGroup>\n              </Col>\n\n              <Col md=\"6\" sm=\"12\">\n                <FormGroup>\n                  <Label for=\"firstname\">First Name</Label>\n                  <Input\n                    type=\"text\"\n                    value={this.state.first_name}\n                    id=\"firstname\"\n                    placeholder=\"First Name\"\n                    onChange={e => this.setState({first_name: e.target.value})}\n                  />\n                </FormGroup>\n              </Col>\n              <Col md=\"6\" sm=\"12\">\n                <FormGroup>\n                <Label for=\"lastname\">Last Name</Label>\n                  <Input\n                    type=\"text\"\n                    value={this.state.last_name}\n                    id=\"lastname\"\n                    placeholder=\"Last Name\"\n                    onChange={e => this.setState({last_name: e.target.value})}\n                  />\n                </FormGroup>\n              </Col>\n              <Col md=\"6\" sm=\"12\">\n                <FormGroup>\n                  <Label for=\"username\">Username</Label>\n                  <Input\n                    type=\"text\"\n                    value={this.state.username}\n                    id=\"username\"\n                    required\n                    disabled\n                    placeholder=\"Username\"\n                    onChange={e => this.setState({username: e.target.value})}\n                  />\n                </FormGroup>\n              </Col>\n              <Col md=\"6\" sm=\"12\">\n                <FormGroup>\n                  <Label for=\"password\">Password</Label>\n                  <Input\n                    type=\"text\"\n                    id=\"password\"\n                    required\n                    placeholder=\"Password\"\n                    onChange={e => this.setState({password: e.target.value})}\n                  />\n                </FormGroup>\n              </Col>\n              <Col className=\"d-flex justify-content-end flex-wrap mt-2\" sm=\"12\">\n                <Button.Ripple className=\"mr-1\" color=\"primary\">\n                  Save Changes\n                </Button.Ripple>\n              </Col>\n            </Row>\n          </Form>\n        </Col>\n      </Row>\n    )\n  }\n}\nconst mapStateToProps = state => {\n  return {\n    token: state.auth.token\n  }\n}\nconst mapDispatchToProps = dispatch => {\n  return {\n    logout: () => dispatch(action.logout())\n  }\n}\nexport default connect(mapStateToProps, mapDispatchToProps)(UserAccountTab)\n","import React from \"react\"\nimport {\n  Card,\n  CardBody,\n  Row,\n  Col,\n  Nav,\n  NavItem,\n  NavLink,\n  TabContent,\n  TabPane\n} from \"reactstrap\"\nimport classnames from \"classnames\"\nimport { User } from \"react-feather\"\nimport { Redirect } from \"react-router-dom\"\nimport AccountTab from \"./Account\"\nimport \"../../../../assets/scss/pages/users.scss\"\nimport { connect } from \"react-redux\"\nclass UserEdit extends React.Component {\n  state = {\n    activeTab: \"1\"\n  }\n\n  toggle = tab => {\n    this.setState({\n      activeTab: tab\n    })\n  }\n  render() {\n    if (!this.props.token) {\n      return <Redirect to=\"/login\" />;\n    }\n    return (\n      <Row>\n        <Col sm=\"12\">\n          <Card>\n            <CardBody className=\"pt-2\">\n              <Nav tabs>\n                <NavItem>\n                  <NavLink\n                    className={classnames({\n                      active: this.state.activeTab === \"1\"\n                    })}\n                    onClick={() => {\n                      this.toggle(\"1\")\n                    }}\n                  >\n                    <User size={16} />\n                    <span className=\"align-middle ml-50\">Account</span>\n\n                  </NavLink>\n                </NavItem>\n              </Nav>\n              <TabContent activeTab={this.state.activeTab}>\n                <TabPane tabId=\"1\">\n                  <AccountTab />\n                </TabPane>\n              </TabContent>\n            </CardBody>\n          </Card>\n        </Col>\n      </Row>\n    )\n  }\n}\nconst mapStateToProps = state => {\n  return {\n    token: state.auth.token\n  }\n}\nexport default connect(mapStateToProps)(UserEdit)\n"],"sourceRoot":""}